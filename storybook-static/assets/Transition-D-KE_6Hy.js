import{p as A,q as W,j as B,k as z,r as K,f as V,d as Y,s as H,t as J,v as Q,P as d,_ as Z,a as X}from"./useCustom-xGDZc2V_.js";import{R as g}from"./index-BF9HgEP8.js";import{c as $}from"./canUseDOM-CEHZbOpG.js";import{c as q}from"./index-BEUhGoCT.js";import{g as S}from"./_commonjsHelpers-Cpj98o6Y.js";import{a as tt}from"./toString-B6ipePS4.js";import{f as et,g as nt,e as it,a as rt,b as at,h as st}from"./mergeRefs-Dstv1IRw.js";import{I as P}from"./index-Dp7zRQ9y.js";function ot(t,n,o,r){return r===void 0&&(r=!1),t.addEventListener(n,o,r),{off:function(){t.removeEventListener(n,o,r)}}}function lt(t){if(t&&"setState"in t){var n;return(n=P.findDOMNode)===null||n===void 0?void 0:n.call(P,t)}return t??null}var ut=function(n){return n&&("current"in n?n.current:n)};function D(t){var n=(t==null?void 0:t.root)||(t==null?void 0:t.child)||ut(t);return n!=null&&n.nodeType&&typeof(n==null?void 0:n.nodeName)=="string"?n:lt(n)}function ct(t,n){t.prototype=Object.create(n.prototype),t.prototype.constructor=t,A(t,n)}function ft(){if(!$)return{};for(var t={O:function(l){return"o"+l.toLowerCase()},Moz:function(l){return l.toLowerCase()},Webkit:function(l){return"webkit"+l},ms:function(l){return"MS"+l}},n=Object.keys(t),o=document.createElement("div").style,r,e="",i=0;i<n.length;i+=1){var a=n[i];if(a+"TransitionProperty"in o){e="-"+a.toLowerCase(),r=t[a]("TransitionEnd");break}}!r&&"transitionProperty"in o&&(r="transitionend"),o=null;var s=function(l){return e+"-"+l};return{end:r,backfaceVisibility:s("backface-visibility"),transform:s("transform"),property:s("transition-property"),timing:s("transition-timing-function"),delay:s("transition-delay"),duration:s("transition-duration")}}function dt(){return ft().end}var Et=W();const mt=S(Et);var C,R;function ht(){if(R)return C;R=1;var t=B(),n=et(),o=z(),r="[object Object]",e=Function.prototype,i=Object.prototype,a=e.toString,s=i.hasOwnProperty,u=a.call(Object);function l(c){if(!o(c)||t(c)!=r)return!1;var p=n(c);if(p===null)return!0;var E=s.call(p,"constructor")&&p.constructor;return typeof E=="function"&&E instanceof E&&a.call(E)==u}return C=l,C}var x,F;function pt(){if(F)return x;F=1;var t=ht();function n(o){return t(o)?void 0:o}return x=n,x}var _,L;function vt(){if(L)return _;L=1;var t=K(),n=V(),o=Y(),r=t?t.isConcatSpreadable:void 0;function e(i){return o(i)||n(i)||!!(r&&i&&i[r])}return _=e,_}var y,j;function bt(){if(j)return y;j=1;var t=nt(),n=vt();function o(r,e,i,a,s){var u=-1,l=r.length;for(i||(i=n),s||(s=[]);++u<l;){var c=r[u];e>0&&i(c)?e>1?o(c,e-1,i,a,s):t(s,c):a||(s[s.length]=c)}return s}return y=o,y}var T,U;function Nt(){if(U)return T;U=1;var t=bt();function n(o){var r=o==null?0:o.length;return r?t(o,1):[]}return T=n,T}var k,G;function gt(){if(G)return k;G=1;var t=Nt(),n=J(),o=H();function r(e){return o(n(e,void 0,t),e+"")}return k=r,k}var I,M;function Ct(){if(M)return I;M=1;var t=tt(),n=it(),o=rt(),r=at(),e=Q(),i=pt(),a=gt(),s=st(),u=1,l=2,c=4,p=a(function(E,v){var m={};if(E==null)return m;var h=!1;v=t(v,function(N){return N=r(N,E),h||(h=N.length>1),N}),e(E,s(E),m),h&&(m=n(m,u|l|c,i));for(var b=v.length;b--;)o(m,v[b]);return m});return I=p,I}var xt=Ct();const _t=S(xt);function yt(){var t=document.createElement("div").style;return"webkitAnimation"in t?"webkitAnimationEnd":"animationend"}var Tt={onEnter:d.func,onEntering:d.func,onEntered:d.func,onExit:d.func,onExiting:d.func,onExited:d.func},kt=["children","className","exitedClassName","enteringClassName","enteredClassName","exitingClassName"],f=(function(t){return t[t.UNMOUNTED=0]="UNMOUNTED",t[t.EXITED=1]="EXITED",t[t.ENTERING=2]="ENTERING",t[t.ENTERED=3]="ENTERED",t[t.EXITING=4]="EXITING",t})({}),w=X({},Tt,{animation:d.bool,children:d.oneOfType([d.node,d.func]),className:d.string,in:d.bool,unmountOnExit:d.bool,transitionAppear:d.bool,timeout:d.number,exitedClassName:d.string,exitingClassName:d.string,enteredClassName:d.string,enteringClassName:d.string}),O=(function(t){function n(r){var e;e=t.call(this,r)||this,e.animationEventListener=null,e.instanceElement=null,e.nextCallback=null,e.needsUpdate=null,e.childRef=void 0;var i;return r.in?i=r.transitionAppear?f.EXITED:f.ENTERED:i=r.unmountOnExit?f.UNMOUNTED:f.EXITED,e.state={status:i},e.nextCallback=null,e.childRef=g.createRef(),e}ct(n,t),n.getDerivedStateFromProps=function(e,i){return e.in&&e.unmountOnExit&&i.status===f.UNMOUNTED?{status:f.EXITED}:null};var o=n.prototype;return o.getSnapshotBeforeUpdate=function(){return(!this.props.in||!this.props.unmountOnExit)&&(this.needsUpdate=!0),null},o.componentDidMount=function(){this.props.transitionAppear&&this.props.in&&this.performEnter(this.props)},o.componentDidUpdate=function(){var e=this.state.status,i=this.props.unmountOnExit;if(i&&e===f.EXITED){this.props.in?this.performEnter(this.props):this.instanceElement&&this.setState({status:f.UNMOUNTED});return}this.needsUpdate&&(this.needsUpdate=!1,this.props.in?(e===f.EXITING||e===f.EXITED)&&this.performEnter(this.props):(e===f.ENTERING||e===f.ENTERED)&&this.performExit(this.props))},o.componentWillUnmount=function(){this.cancelNextCallback(),this.instanceElement=null},o.onTransitionEnd=function(e,i){var a;if(this.setNextCallback(i),(a=this.animationEventListener)===null||a===void 0||a.off(),!!this.nextCallback)if(e){var s=this.props,u=s.timeout,l=s.animation;this.animationEventListener=ot(e,l?yt():dt(),this.nextCallback),u!==null&&setTimeout(this.nextCallback,u)}else setTimeout(this.nextCallback,0)},o.setNextCallback=function(e){var i=this,a=!0;return this.nextCallback=function(s){if(a){if(s){i.instanceElement===s.target&&(e(s),a=!1,i.nextCallback=null);return}e(s),a=!1,i.nextCallback=null}},this.nextCallback&&(this.nextCallback.cancel=function(){a=!1}),this.nextCallback},o.getChildElement=function(){return this.childRef.current?D(this.childRef.current):D(this)},o.performEnter=function(e){var i=this,a=e||this.props,s=a.onEnter,u=a.onEntering,l=a.onEntered;this.cancelNextCallback();var c=this.getChildElement();this.instanceElement=c,s==null||s(c),this.safeSetState({status:f.ENTERING},function(){u==null||u(c),i.onTransitionEnd(c,function(){i.safeSetState({status:f.ENTERED},function(){l==null||l(c)})})})},o.performExit=function(e){var i=this,a=e||this.props,s=a.onExit,u=a.onExiting,l=a.onExited;this.cancelNextCallback();var c=this.getChildElement();this.instanceElement=c,s==null||s(c),this.safeSetState({status:f.EXITING},function(){u==null||u(c),i.onTransitionEnd(c,function(){i.safeSetState({status:f.EXITED},function(){l==null||l(c)})})})},o.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},o.safeSetState=function(e,i){if(this.instanceElement){var a=this.setNextCallback(i);this.setState(e,function(){return a==null?void 0:a()})}},o.render=function(){var e,i=this.state.status;if(i===f.UNMOUNTED)return null;var a=this.props,s=a.children,u=a.className,l=a.exitedClassName,c=a.enteringClassName,p=a.enteredClassName,E=a.exitingClassName,v=Z(a,kt),m=_t(v,Object.keys(w)),h;if(i===f.EXITED?h=l:i===f.ENTERING?h=c:i===f.ENTERED?h=p:i===f.EXITING&&(h=E),mt(s))return m.className=q(u,h),s(m,this.childRef);var b=g.Children.only(s);return g.cloneElement(b,X({},m,{ref:this.childRef,className:q(u,(e=b.props)===null||e===void 0?void 0:e.className,h)}))},n})(g.Component);O.propTypes=w;O.displayName="Transition";O.defaultProps={timeout:1e3};export{O as T,ct as _,ot as a,Tt as b,ht as c,Nt as d,D as g,mt as i,_t as o,gt as r,w as t};
