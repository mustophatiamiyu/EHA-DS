import{j as te}from"./jsx-runtime-D_zvdyIk.js";import{_ as R}from"./taggedTemplateLiteralLoose-i6vP4YW0.js";import{P as s,u as L,_ as O,b as T,a as v}from"./useCustom-xGDZc2V_.js";import{R as l,r as m}from"./index-BF9HgEP8.js";import{o as M}from"./oneOf-PZnPkCb4.js";import{a as H}from"./BrowserDetection-BCe25-UL.js";import{u as oe}from"./useIsomorphicLayoutEffect-B5gjKS-z.js";var ie=["as","classPrefix","spacing","className","children","stack","size","style"],V=l.createContext({}),A=l.forwardRef(function(d,o){var t=L("AvatarGroup",d),r=t.propsWithDefaults,n=r.as,c=n===void 0?"div":n,u=r.classPrefix,x=u===void 0?"avatar-group":u,e=r.spacing,f=r.className,p=r.children,g=r.stack,i=r.size,h=r.style,_=O(r,ie),a=T(x),N=a.withClassPrefix,C=a.merge,z=C(f,N({stack:g})),y=m.useMemo(function(){return{size:i}},[i]),E=H()?h:v({},h,{gap:e});return l.createElement(c,v({role:"group"},_,{ref:o,className:z,style:E}),l.createElement(V.Provider,{value:y},p))});A.displayName="AvatarGroup";A.propTypes={as:s.elementType,classPrefix:s.string,className:s.string,children:s.node,stack:s.bool,spacing:s.number,size:M(["lg","md","sm","xs"])};var le=function(o){return l.createElement("svg",v({role:"img","aria-label":"Avatar",stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 448 512",height:"60%",width:"60%"},o),l.createElement("path",{d:"M224 256A128 128 0 1 0 224 0a128 128 0 1 0 0 256zm-45.7 48C79.8 304 0 383.8 0 482.3C0 498.7 13.3 512 29.7 512H418.3c16.4 0 29.7-13.3 29.7-29.7C448 383.8 368.2 304 269.7 304H178.3z"}))},ne=function(o){var t=o.src,r=o.srcSet,n=o.sizes,c=o.crossOrigin,u=o.onError,x=m.useState("pending"),e=x[0],f=x[1],p=m.useRef(null),g=function(){p.current&&(p.current.onload=null,p.current.onerror=null,p.current=null)},i=m.useCallback(function(){f("loaded"),g()},[]),h=m.useCallback(function(a){f("error"),g(),u==null||u(a)},[u]);m.useEffect(function(){f(t?"loading":"pending")},[t]);var _=m.useCallback(function(){if(t){var a=new Image;a.onload=i,a.onerror=h,t&&(a.src=t),r&&(a.srcset=r),n&&(a.sizes=n),c&&(a.crossOrigin=c),p.current=a}},[c,h,i,n,t,r]);return oe(function(){e==="loading"&&_()},[_,e]),m.useEffect(function(){return g},[]),{loaded:e==="loaded",status:e}},$,j,ce=["as","bordered","alt","className","children","circle","color","classPrefix","size","src","srcSet","sizes","style","imgProps","onError"],b=l.forwardRef(function(d,o){var t,r=m.useContext(V),n=r.size,c=r.spacing,u=L("Avatar",d),x=u.rtl,e=u.propsWithDefaults,f=e.as,p=f===void 0?"div":f,g=e.bordered,i=e.alt,h=e.className,_=e.children,a=e.circle,N=e.color,C=e.classPrefix,z=C===void 0?"avatar":C,y=e.size,E=y===void 0?n:y,W=e.src,q=e.srcSet,B=e.sizes,k=e.style,F=e.imgProps,J=e.onError,K=O(e,ce),P=T(z),Q=P.withClassPrefix,I=P.prefix,U=P.merge,X=U(h,Q(E,N,{circle:a,bordered:g})),w=v({},F,{alt:i,src:W,srcSet:q,sizes:B}),Y=ne(v({},w,{onError:J})),Z=Y.loaded,ee=m.useMemo(function(){return i?l.createElement("span",{role:"img","aria-label":i},i):null},[i]),D=_||ee||l.createElement(le,{className:I($||($=R(["icon"])))}),re=Z?l.createElement("img",v({},w,{className:I(j||(j=R(["image"])))})):D,se=x?"marginLeft":"marginRight",ae=H()&&c?v((t={},t[se]=c,t),k):k;return l.createElement(p,v({},K,{ref:o,className:X,style:ae}),W?re:D)});b.displayName="Avatar";b.propTypes={as:s.elementType,classPrefix:s.string,className:s.string,children:s.node,size:M(["xxl","xl","lg","md","sm","xs"]),src:s.string,sizes:s.string,srcSet:s.string,imgProps:s.object,circle:s.bool,alt:s.string};const S=({style:d,className:o,children:t,icon:r,...n})=>{const c={...d};return te.jsx(b,{style:c,className:`ds-avatar ${o||""}`,...n,children:r||t})},ue=A;S.Group=ue;S.displayName="Avatar";const G=S;try{G.displayName="Avatar",G.__docgenInfo={description:"",displayName:"Avatar",props:{icon:{defaultValue:null,description:"Custom icon to render",name:"icon",required:!1,type:{name:"ReactNode"}}}}}catch{}export{G as A};
